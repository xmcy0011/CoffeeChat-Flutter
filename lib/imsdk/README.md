# Flutter SDK

## 概述

该目录存放 IM SDK 相关业务，为上层应用屏蔽相关细节，后续有时间了可以制作成 dart 包，方便复用，也为了使 IM 逻辑和应用逻辑分离，更好维护。

## 基本概念

会话（im_session）：分为两种，一种是 C2C 会话，表示一对一单聊情况下自己与对方建立的对话，读取消息和发送消息都是通过会话完成；另一种是群会话，表示群聊情况下，群内成员组成的会话，群会话内发
送消息群成员都可接收到。
消息（im_message）：表示要发送给对方的内容，消息包括消息内容、接收人、发送人和发送时间等等；

## 对象简介

| 类        | 说明                   | 功能                                         |
| :-------- | :--------------------- | :------------------------------------------- |
| IMManager | 核心类，负责基本操作   | 初始化、登录、注销和创建会话等               |
| IMSession | 会话，负责会话相关操作 | 如发送消息，获取会话消息缓存，获取未读计数等 |
| IMMessage | 消息                   | 包括文本、图片等不同类型消息                 |

## 调用顺序介绍

| 步骤     | 对应函数                     | 说明         |
| -------- | ---------------------------- | ------------ |
| 初始化   | IMManager:init               | 初始化       |
|          | IMManager:addMessageListener | 设置消息监听 |
| 登录     | IMManager:login              | 认证登录     |
| 消息收发 | IMManager:getSession         | 获取会话     |
|          | IMManager:sendMessage        | 发送消息     |
| 注销     | IMManager:logout             | 注销         |
